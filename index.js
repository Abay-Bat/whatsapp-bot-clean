const { Client } = require('whatsapp-web.js');
const qrcode = require('qrcode-terminal');
const QRCode = require('qrcode'); // For saving QR code as image

// –°–æ–∑–¥–∞–µ–º –∫–ª–∏–µ–Ω—Ç–∞
const client = new Client();

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞
client.on('qr', qr => {
    console.log('–°–∫–∞–Ω–∏—Ä—É–π QR-–∫–æ–¥ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ WhatsApp:');
    
    // Generate and print small QR code in terminal
    qrcode.generate(qr, { small: true });

    // Also print the raw QR string as a URL so it can be copied or opened manually
    console.log('\n–ò–ª–∏ –æ—Ç–∫—Ä–æ–π —ç—Ç–æ—Ç URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è –≤—Ö–æ–¥–∞:');
    console.log(qr);

    // Save the QR code as an image file 'qr.png'
    QRCode.toFile('qr.png', qr, function (err) {
        if (err) {
            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ QR-–∫–æ–¥–∞:', err);
        } else {
            console.log('QR-–∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∫–∞–∫ qr.png ‚Äî —Å–∫–∞—á–∞–π—Ç–µ –∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
        }
    });
});

// –ö–æ–≥–¥–∞ –±–æ—Ç –≥–æ—Ç–æ–≤
client.on('ready', () => {
    console.log('‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!');
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
client.on('message', async message => {
    const text = message.body.toLowerCase();

    if (text.includes('–ø—Ä–∏–≤–µ—Ç')) {
        await message.reply('–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç —Ç—É—Ä–∞–≥–µ–Ω—Ç—Å—Ç–≤–∞. –°–ø—Ä–æ—Å–∏—Ç–µ –º–µ–Ω—è –ø—Ä–æ —Ç—É—Ä—ã ‚úàÔ∏èüèùÔ∏è');
    }

    if (text.includes('—Ç—É—Ä') && text.includes('—Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü')) {
        await message.reply('–î–∞, —É –Ω–∞—Å –µ—Å—Ç—å —Ç—É—Ä—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü. –£—Ç–æ—á–Ω–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å—Ç—Ä–∞–Ω—É –∏–ª–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ üòä');
    }

    if (text.includes('—Ç—É—Ä') && text.includes('–Ω–∞ –¥–≤–æ–∏—Ö')) {
        await message.reply('–¶–µ–Ω—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–∞—Ç—ã. –ù–∞–ø–∏—à–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –∏ –∂–µ–ª–∞–µ–º—ã–µ –¥–∞—Ç—ã, –∏ –º—ã —Ä–∞—Å—Å—á–∏—Ç–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å üëå');
    }

    if (text.includes('–ø–µ—Ä–µ–ª–µ—Ç') || text.includes('–ø–µ—Ä–µ–ª—ë—Ç')) {
        await message.reply('–î–∞, –≤–æ –≤—Å–µ –Ω–∞—à–∏ —Ç—É—Ä—ã –≤—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–ª—ë—Ç —Ç—É–¥–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ üõ´üõ¨');
    }

    if (text.includes('–±–∞—Å—Å–µ–π–Ω') && text.includes('–æ—Ç–µ–ª–µ')) {
        await message.reply('–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –Ω–∞—à–∏—Ö –æ—Ç–µ–ª–µ–π –≤–∫–ª—é—á–∞—é—Ç –±–∞—Å—Å–µ–π–Ω üèä‚Äç‚ôÄÔ∏è. –£—Ç–æ—á–Ω–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å—Ç—Ä–∞–Ω—É –∏–ª–∏ –æ—Ç–µ–ª—å.');
    }

    if (text.includes('–∑–∞–≤—Ç—Ä–∞–∫') || text.includes('—Ç—Ä–∞–Ω—Å—Ñ–µ—Ä')) {
        await message.reply('–î–∞, –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Ç—É—Ä–æ–≤ –≤–∫–ª—é—á–µ–Ω—ã –∑–∞–≤—Ç—Ä–∞–∫ –∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä –∏–∑ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ üç≥üöó');
    }

    if (text.includes('—Ç—É—Ä') && (
        text.includes('–¥—É–±–∞–π') || 
        text.includes('—Ç–∞–∏–ª–∞–Ω–¥') || 
        text.includes('–≤—å–µ—Ç–Ω–∞–º') || 
        text.includes('—Ç—É—Ä—Ü–∏—è')
    )) {
        await message.reply(
            '–í–æ—Ç –ø—Ä–∏–º–µ—Ä–Ω—ã–µ —Ü–µ–Ω—ã –Ω–∞ 7 –Ω–æ—á–µ–π –Ω–∞ –¥–≤–æ–∏—Ö:\n' +
            'üá¶üá™ –î—É–±–∞–π ‚Äî –æ—Ç 1200$\n' +
            'üáπüá≠ –¢–∞–∏–ª–∞–Ω–¥ ‚Äî –æ—Ç 1300$\n' +
            'üáªüá≥ –í—å–µ—Ç–Ω–∞–º ‚Äî –æ—Ç 1100$\n' +
            'üáπüá∑ –¢—É—Ä—Ü–∏—è ‚Äî –æ—Ç 900$\n\n' +
            '–£—Ç–æ—á–Ω–∏—Ç–µ –¥–∞—Ç—ã, —á—Ç–æ–±—ã –º—ã —Ä–∞—Å—Å—á–∏—Ç–∞–ª–∏ —Ç–æ—á–Ω—É—é —Ü–µ–Ω—É ‚úÖ'
        );
    }

    if (text.includes('?') || text.includes('—Å–∫–æ–ª—å–∫–æ') || text.includes('–µ—Å—Ç—å')) {
        await message.reply('–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–æ–ø—Ä–æ—Å! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Ç–æ—á–Ω–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –∏–ª–∏ –¥–∞—Ç—ã —Ç—É—Ä–∞ üåçüóìÔ∏è');
    }
});

// –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞
client.initialize();
